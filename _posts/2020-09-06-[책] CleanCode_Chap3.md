---
title: "[Clean Code] Chapter 3 - Functions"
subtitle: "The art of programming is, and has always been, the art of language design."
categories: [책]
tags:
  - 책 [Book]
  - 클린코드 [CleanCode]
published: true
---

*** 
몇개 되지도 않는 포스팅 글들을 다시 읽어보니 글 솜씨가 영 아니다. 나는 실제로 만나면 참 재밌고 말도 잘하는 사람인데 왜 글만 쓰면 재미도 없고 말도 잘 못하지? 블로그 포스팅하면서 드립치는 사람들에게 존경의 표시를 보낸다. 글로 드립치는게 쉽지 않네. 그래도 계속 쓰다보면 글 쓰는 실력이 조금 나아지지 않을까?

***

### 함수는 20줄을 넘기면 안돼!
함수를 작성할 때 첫번째 rule은 함수들을 작게 만드는 것이다. 두번째는 그 함수들을 더 작게 만드는 것이다. Robert는 그의 프로그래머로서 40년 동안의 다양한 함수를 작성하면서 그가 배운점은 함수들은 굉장히 작아야 한다는 것이다. 이에 따라 그는 함수는 길어도 20줄을 넘기지 않아야 한다고 말한다. 더 나아가 함수의 길이는 4줄이 적당하다고 하고 Indentation은 하나에서 두개 정도가 적당하다고 한다. 

지금 회사에서 쓰고 있는 함수들을 살펴보면 그가 말하는 것과는 정반대인 경우가 99%이다. 몇십줄을 넘기는 함수는 기본이고 몇백줄되는 함수 또한 비일비재하다. 그런 코드들을 보면서 느낀점은 Robert의 말이 맞다는 것이다. 그런 함수들을 이해하고 수정하려면 하루종일 걸린다. 그리고 또 거기에 수정을 하려면 상당히 복잡한 함수들의 관계를 잘 이해해야 하기 때문에 시간은 더더욱 오래걸리게 된다. 

### 함수는 한가지 일만 수행해야 한다. 
위의 규칙을 적용하면 어쩌면 자연스럽게 따라오는 규칙이 아닐까 싶다. 함수 하나가 최대 4줄이면 한가지 일만 넣기도 힘들 것 같다. 한가지 일만 수행하는 함수는 작성 후 다른 사람이 봤을 때에도 이해하기 쉽고 또 수정하기도 쉽게 해준다. 

### 함수안의 추상적 수준은 항상 같게 해줘라
이건 처음 읽었을 때 조금 이해하기 어려웠다. 이 말은 즉 한 함수안에 코드를 작성할 때 만약 다른 함수를 불러와서 가져다가 쓴다면 그 함수의 추상적인 수준을 해당 brock에 있는 다른 코드들과 같이 하라는 것이다. 잘 이해가 안가면 36page를 돌아가서 다시 읽어라 ㅋ

### 코드는 위에서 아래로 읽을 수 있도록 작섣되어야 한다. Stepdown Rule
코드를 위에서 아래로 읽으며 이해할 수 있도록 작성하는 것은 프로그래머로서 꼭 배워야 할 스킬이다. 책에서는 TO paragraph를 말하는데 이게 뭔지 정확하게 모르겠다. ㅋ 

### 이름을 잘 지어라. 
이름을 지을 때 함수가 어떤일을 수행하는 지를 보여줄 수 있도록 작성해야한다. Ward's principle은 "You know you are working on clean code when each routine turns out to be pretty much what you expected." 라고 말했다. 이를 성취하기 위해서는 코드에 좋은 이름을 지어주고 함수들을 아주 작게 쪼개서 만드는 것이 매우 중요하다. 함수의 의미를 잘 설명하기 위해 함수에 이름을 길게 짓는 것을 두려워하면 안된다. 따라서 이름을 고르는 일에 시간을 투자하는 것을 두려워하지 말아야 한다. 또 이름을 지을 때 일정 패턴을 만들어 이를 잘 따르면 나중에 이해하기 쉬운 함수 이름을 만들 수 있을 것이다. 

일을 하다보면 이름 짓기에 시간을 보내는 것이 가끔 눈치가 보일 때가 있다. 내가 가끔 화면을 뚫어져라 보고 있으면 옆에서 할 거 없냐고 물어볼 때도 있고 내가 그냥 쉬는 줄 아는 사람도 있다.ㅋ 이는 어쩌면 회사 문화가 잘 자리 잡히지 않았을 수도 있고 아니면 순수한 호기심일 수도 있을 것이다. 앞으로는 누군가 나에게 이런 질문들을 한다면 작명 고민을 하고 있다고 말해주면서 이 책을 추천해줘야겠다. 

### 매개변수는 최대한으로 줄여라
가장 좋은 함수는 매개변수가 없는 함수! 두번째는 매개변수가 하나인 함수, 매개변수가 3개 이상으로 넘어가면 조금 다시 생각해볼 문제. 단 arguments list는 하나로 친다. 얘네는 하나로 치는 것이 맞다. 왜냐하면 다 리스트일 뿐 안의 내용은 같은 성질이기 때문이다. 

### try/catch는 못생겼다.
따라서 못생긴 애들은 무조건 함수로 뺴야한다. try로 시작해서 catch로 끝난 다음 그 뒤에는 그 어떤 소스도 있어서는 안된다. 읽기도 어렵고 못생겼다. 

### 국룰. 반복하지마라. 
반복은 소스를 크게 만들고 수정시 시간이 몇배로 더 든다. 

### return, break, continue, go to
리턴은 함수에 하나씩, break와 continue는 쓰지마라, go to 는 절대 절대 절대 쓰지마라. 이는 함수를 작게 짜면 짤수록 지키기가 쉬워진다. 따라서 함수를 작게 쓰면 이 룰은 알아서 따라올 것이다. 

### 어떻게하면 함수를 이 규칙을 잘 따르면서 작성할 수 있을까?
Robert는 자신이 처음 코드를 작성할 때는 소스들이 길고 복잡하다고 한다. 그 다음 코드들을 천천히 정리하면서 자신이 만든 룰을 따른다고 한다. 

## 결론
아주 훌륭한 quote다 
> "The art of programming is, and has always been, the art of language design."

프로그래밍 마스터는 훌륭한 스토리텔러다. 프로그래머는 코드를 통해서 자신이 하고자 하는 일을 잘 표현할 수 있어야 한다. 